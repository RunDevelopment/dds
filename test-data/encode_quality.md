# Encode quality

<!-- This file is generated by `tests/encode.rs` -->

**Metrics:**
- **↑PSNR:** Peak Signal to Noise Ratio.
- **↑PSNR B:** Apply a small blur to the image and then measure PSNR. This is useful to measure the quality of dithering.
- **↓Region err:** This measures the absolute error after downscaling the image to 25%. The error is in 8 bit. So .e.g a region of 4 means that expected absolute error per pixel is +-4/255.

## `BC1_UNORM`

- fast: EncodeOptions { dithering: None, error_metric: Uniform, quality: Fast }
- normal: EncodeOptions { dithering: None, error_metric: Uniform, quality: Normal }
- high: EncodeOptions { dithering: None, error_metric: Uniform, quality: High }
- dither: EncodeOptions { dithering: ColorAndAlpha, error_metric: Uniform, quality: Normal }
- perc: EncodeOptions { dithering: None, error_metric: Perceptual, quality: High }
- perc d: EncodeOptions { dithering: Color, error_metric: Perceptual, quality: High }

|                 |        |   | ↑PSNR | ↑PSNR B | ↓Region err
| --------------- | ------ | - | ----- | ------- | -----------
|                 |        |   |       |         |
| Summary         | fast   | L | 28.45 | 33.33   |  1.44
|                 |        | R | 19.08 | 21.02   |  5.05
|                 |        | G | 24.98 | 29.61   |  2.71
|                 |        | B | 22.28 | 25.19   |  3.37
|                 |        | A | 24.22 | 29.16   |  1.64
|                 |        |   |       |         |
|                 | normal | L | 28.53 | 33.39   |  1.35
|                 |        | R | 19.09 | 21.02   |  4.98
|                 |        | G | 25.03 | 29.66   |  2.56
|                 |        | B | 22.30 | 25.20   |  3.31
|                 |        | A | 24.22 | 29.16   |  1.64
|                 |        |   |       |         |
|                 | high   | L | 28.55 | 33.42   |  1.28
|                 |        | R | 19.09 | 21.02   |  4.99
|                 |        | G | 25.04 | 29.68   |  2.45
|                 |        | B | 22.31 | 25.20   |  3.31
|                 |        | A | 24.22 | 29.16   |  1.64
|                 |        |   |       |         |
|                 | dither | L | 27.05 | 41.51   |  0.70
|                 |        | R | 19.12 | 22.02   |  4.83
|                 |        | G | 24.91 | 30.04   |  2.52
|                 |        | B | 22.11 | 25.84   |  3.25
|                 |        | A | 22.66 | 38.14   |  0.56
|                 |        |   |       |         |
|                 | perc   | L | 28.84 | 33.51   |  1.23
|                 |        | R | 18.96 | 20.96   |  5.46
|                 |        | G | 25.13 | 29.59   |  2.61
|                 |        | B | 22.09 | 25.11   |  3.69
|                 |        | A | 24.22 | 29.16   |  1.64
|                 |        |   |       |         |
|                 | perc d | L | 28.68 | 33.55   |  1.15
|                 |        | R | 18.94 | 20.97   |  5.32
|                 |        | G | 25.03 | 29.62   |  2.53
|                 |        | B | 22.06 | 25.12   |  3.60
|                 |        | A | 24.22 | 29.16   |  1.64
|                 |        |   |       |         |
|                 |        |   |       |         |
| base.png        | fast   | L | 21.23 | 23.99   |  6.96
|                 |        | R | 10.68 | 11.63   | 26.72
|                 |        | G | 20.54 | 23.13   |  8.22
|                 |        | B | 13.86 | 15.96   | 15.39
|                 |        | A | 17.80 | 20.01   |  9.10
|                 |        |   |       |         |
|                 | normal | L | 21.33 | 24.05   |  6.73
|                 |        | R | 10.69 | 11.63   | 26.41
|                 |        | G | 20.59 | 23.19   |  8.08
|                 |        | B | 13.88 | 15.97   | 15.20
|                 |        | A | 17.80 | 20.01   |  9.10
|                 |        |   |       |         |
|                 | high   | L | 21.35 | 24.06   |  6.45
|                 |        | R | 10.69 | 11.63   | 26.38
|                 |        | G | 20.60 | 23.21   |  7.48
|                 |        | B | 13.89 | 15.97   | 14.98
|                 |        | A | 17.80 | 20.01   |  9.10
|                 |        |   |       |         |
|                 | dither | L | 19.40 | 34.63   |  2.13
|                 |        | R | 10.79 | 12.78   | 25.78
|                 |        | G | 20.54 | 23.94   |  7.67
|                 |        | B | 13.64 | 16.71   | 15.35
|                 |        | A | 15.65 | 32.53   |  1.63
|                 |        |   |       |         |
|                 | perc   | L | 21.63 | 24.13   |  6.14
|                 |        | R | 10.61 | 11.59   | 28.00
|                 |        | G | 20.48 | 22.99   |  8.71
|                 |        | B | 13.69 | 15.91   | 15.95
|                 |        | A | 17.80 | 20.01   |  9.10
|                 |        |   |       |         |
|                 | perc d | L | 21.52 | 24.15   |  6.01
|                 |        | R | 10.61 | 11.60   | 27.77
|                 |        | G | 20.37 | 23.01   |  8.54
|                 |        | B | 13.67 | 15.91   | 15.97
|                 |        | A | 17.80 | 20.01   |  9.10
|                 |        |   |       |         |
|                 |        |   |       |         |
| color-twirl.png | fast   | L | 51.08 | 58.03   |  0.25
|                 |        | R | 45.51 | 52.94   |  0.46
|                 |        | G | 45.08 | 52.06   |  0.52
|                 |        | B | 45.51 | 52.94   |  0.46
|                 |        |   |       |         |
|                 | normal | L | 51.31 | 58.88   |  0.22
|                 |        | R | 45.70 | 53.27   |  0.44
|                 |        | G | 45.37 | 53.04   |  0.46
|                 |        | B | 45.70 | 53.27   |  0.44
|                 |        |   |       |         |
|                 | high   | L | 51.29 | 58.82   |  0.22
|                 |        | R | 45.72 | 53.29   |  0.44
|                 |        | G | 45.32 | 52.97   |  0.46
|                 |        | B | 45.72 | 53.29   |  0.44
|                 |        |   |       |         |
|                 | dither | L | 50.81 | 59.05   |  0.21
|                 |        | R | 45.10 | 53.71   |  0.36
|                 |        | G | 44.88 | 53.23   |  0.43
|                 |        | B | 45.10 | 53.72   |  0.36
|                 |        |   |       |         |
|                 | perc   | L | 52.57 | 60.05   |  0.20
|                 |        | R | 43.17 | 48.80   |  0.69
|                 |        | G | 45.80 | 52.41   |  0.49
|                 |        | B | 43.78 | 49.77   |  0.65
|                 |        |   |       |         |
|                 | perc d | L | 51.86 | 60.46   |  0.17
|                 |        | R | 42.70 | 48.88   |  0.62
|                 |        | G | 45.28 | 52.75   |  0.44
|                 |        | B | 43.21 | 49.77   |  0.58
|                 |        |   |       |         |
|                 |        |   |       |         |
| bricks-d.png    | fast   | L | 34.35 | 44.99   |  0.60
|                 |        | R | 29.57 | 39.01   |  0.95
|                 |        | G | 32.49 | 42.31   |  0.95
|                 |        | B | 31.77 | 41.47   |  1.20
|                 |        |   |       |         |
|                 | normal | L | 34.50 | 45.51   |  0.51
|                 |        | R | 29.62 | 39.12   |  0.87
|                 |        | G | 32.79 | 43.08   |  0.77
|                 |        | B | 31.96 | 41.90   |  1.10
|                 |        |   |       |         |
|                 | high   | L | 34.59 | 45.90   |  0.45
|                 |        | R | 29.58 | 38.95   |  0.91
|                 |        | G | 32.93 | 43.65   |  0.64
|                 |        | B | 31.98 | 41.80   |  1.10
|                 |        |   |       |         |
|                 | dither | L | 33.93 | 46.09   |  0.44
|                 |        | R | 29.39 | 39.28   |  0.76
|                 |        | G | 32.18 | 43.50   |  0.74
|                 |        | B | 31.43 | 42.27   |  1.03
|                 |        |   |       |         |
|                 | perc   | L | 35.66 | 47.54   |  0.40
|                 |        | R | 30.18 | 39.04   |  0.95
|                 |        | G | 31.87 | 41.32   |  0.88
|                 |        | B | 30.42 | 39.30   |  1.44
|                 |        |   |       |         |
|                 | perc d | L | 34.85 | 48.29   |  0.31
|                 |        | R | 29.88 | 39.36   |  0.76
|                 |        | G | 31.46 | 41.95   |  0.79
|                 |        | B | 30.12 | 39.74   |  1.34
|                 |        |   |       |         |
|                 |        |   |       |         |
| bricks-n.png    | fast   | L | 33.03 | 43.92   |  0.56
|                 |        | R | 27.22 | 38.18   |  1.08
|                 |        | G | 27.31 | 38.21   |  0.94
|                 |        | B | 29.33 | 39.10   |  1.09
|                 |        |   |       |         |
|                 | normal | L | 33.09 | 44.01   |  0.48
|                 |        | R | 27.27 | 38.27   |  1.02
|                 |        | G | 27.37 | 38.30   |  0.75
|                 |        | B | 29.35 | 39.12   |  1.08
|                 |        |   |       |         |
|                 | high   | L | 32.98 | 43.74   |  0.56
|                 |        | R | 27.14 | 37.96   |  1.20
|                 |        | G | 27.30 | 38.22   |  0.81
|                 |        | B | 29.22 | 38.53   |  1.36
|                 |        |   |       |         |
|                 | dither | L | 32.90 | 44.12   |  0.44
|                 |        | R | 27.09 | 38.47   |  0.84
|                 |        | G | 27.19 | 38.42   |  0.68
|                 |        | B | 29.34 | 39.15   |  1.05
|                 |        |   |       |         |
|                 | perc   | L | 35.43 | 46.37   |  0.48
|                 |        | R | 24.34 | 34.33   |  1.61
|                 |        | G | 30.35 | 41.49   |  0.85
|                 |        | B | 28.96 | 38.28   |  1.37
|                 |        |   |       |         |
|                 | perc d | L | 35.02 | 47.01   |  0.39
|                 |        | R | 24.32 | 34.56   |  1.37
|                 |        | G | 29.85 | 42.01   |  0.66
|                 |        | B | 28.99 | 38.66   |  1.17
|                 |        |   |       |         |
|                 |        |   |       |         |
| clovers-d.png   | fast   | L | 34.67 | 44.86   |  0.76
|                 |        | R | 34.59 | 43.74   |  1.11
|                 |        | G | 32.31 | 42.25   |  1.04
|                 |        | B | 35.15 | 42.80   |  1.20
|                 |        |   |       |         |
|                 | normal | L | 35.05 | 45.79   |  0.58
|                 |        | R | 34.75 | 43.93   |  1.04
|                 |        | G | 32.72 | 43.21   |  0.79
|                 |        | B | 35.25 | 42.92   |  1.14
|                 |        |   |       |         |
|                 | high   | L | 35.14 | 46.24   |  0.47
|                 |        | R | 34.74 | 43.88   |  1.03
|                 |        | G | 32.84 | 43.71   |  0.63
|                 |        | B | 35.27 | 42.89   |  1.17
|                 |        |   |       |         |
|                 | dither | L | 34.28 | 46.44   |  0.50
|                 |        | R | 34.23 | 44.52   |  0.92
|                 |        | G | 31.98 | 43.74   |  0.71
|                 |        | B | 35.14 | 43.01   |  1.12
|                 |        |   |       |         |
|                 | perc   | L | 35.88 | 47.82   |  0.44
|                 |        | R | 29.73 | 35.05   |  3.05
|                 |        | G | 33.76 | 45.46   |  0.64
|                 |        | B | 31.29 | 36.83   |  2.94
|                 |        |   |       |         |
|                 | perc d | L | 35.04 | 48.72   |  0.36
|                 |        | R | 29.96 | 35.92   |  2.77
|                 |        | G | 32.94 | 46.35   |  0.52
|                 |        | B | 31.46 | 37.26   |  2.76
|                 |        |   |       |         |
|                 |        |   |       |         |
| clovers-r.png   | fast   | L | 34.10 | 45.46   |  0.76
|                 |        | R | 32.33 | 43.75   |  1.05
|                 |        | G | 32.15 | 42.77   |  1.22
|                 |        | B | 32.33 | 43.75   |  1.05
|                 |        |   |       |         |
|                 | normal | L | 34.48 | 46.70   |  0.53
|                 |        | R | 32.61 | 44.27   |  0.94
|                 |        | G | 32.64 | 44.42   |  0.82
|                 |        | B | 32.61 | 44.26   |  0.94
|                 |        |   |       |         |
|                 | high   | L | 34.60 | 47.35   |  0.40
|                 |        | R | 32.64 | 44.43   |  0.91
|                 |        | G | 32.82 | 45.34   |  0.61
|                 |        | B | 32.64 | 44.44   |  0.91
|                 |        |   |       |         |
|                 | dither | L | 33.55 | 47.76   |  0.46
|                 |        | R | 31.74 | 45.67   |  0.68
|                 |        | G | 31.70 | 45.09   |  0.87
|                 |        | B | 31.74 | 45.66   |  0.68
|                 |        |   |       |         |
|                 | perc   | L | 34.61 | 47.22   |  0.43
|                 |        | R | 32.55 | 43.79   |  1.09
|                 |        | G | 32.79 | 45.12   |  0.66
|                 |        | B | 32.45 | 43.53   |  1.08
|                 |        |   |       |         |
|                 | perc d | L | 33.74 | 48.32   |  0.35
|                 |        | R | 31.74 | 44.68   |  0.98
|                 |        | G | 31.93 | 46.16   |  0.59
|                 |        | B | 31.71 | 44.77   |  0.94
|                 |        |   |       |         |
|                 |        |   |       |         |
| stone-d.png     | fast   | L | 35.03 | 45.82   |  0.70
|                 |        | R | 34.42 | 44.48   |  1.08
|                 |        | G | 34.61 | 45.03   |  0.93
|                 |        | B | 34.46 | 44.42   |  1.11
|                 |        |   |       |         |
|                 | normal | L | 34.75 | 44.63   |  0.66
|                 |        | R | 34.56 | 44.62   |  1.04
|                 |        | G | 34.96 | 46.19   |  0.73
|                 |        | B | 34.64 | 44.68   |  1.02
|                 |        |   |       |         |
|                 | high   | L | 35.11 | 45.91   |  0.54
|                 |        | R | 34.59 | 44.68   |  1.02
|                 |        | G | 35.11 | 46.79   |  0.61
|                 |        | B | 34.66 | 44.69   |  1.00
|                 |        |   |       |         |
|                 | dither | L | 34.13 | 45.58   |  0.58
|                 |        | R | 33.93 | 45.24   |  0.92
|                 |        | G | 34.23 | 46.78   |  0.71
|                 |        | B | 34.01 | 45.29   |  0.91
|                 |        |   |       |         |
|                 | perc   | L | 35.57 | 47.24   |  0.47
|                 |        | R | 34.36 | 43.92   |  1.19
|                 |        | G | 35.12 | 46.61   |  0.62
|                 |        | B | 34.36 | 43.73   |  1.17
|                 |        |   |       |         |
|                 | perc d | L | 34.71 | 48.04   |  0.36
|                 |        | R | 33.65 | 44.40   |  1.10
|                 |        | G | 34.29 | 47.47   |  0.52
|                 |        | B | 33.69 | 44.32   |  1.06
|                 |        |   |       |         |
|                 |        |   |       |         |
| grass.png       | fast   | L | 24.92 | 34.81   |  2.28
|                 |        | R | 17.59 | 22.59   | 10.52
|                 |        | G | 19.09 | 24.13   |  8.77
|                 |        | B | 19.69 | 24.68   |  8.26
|                 |        | A | 18.04 | 27.78   |  5.11
|                 |        |   |       |         |
|                 | normal | L | 24.93 | 34.84   |  2.27
|                 |        | R | 17.59 | 22.59   | 10.51
|                 |        | G | 19.09 | 24.13   |  8.74
|                 |        | B | 19.69 | 24.70   |  8.24
|                 |        | A | 18.04 | 27.78   |  5.11
|                 |        |   |       |         |
|                 | high   | L | 24.93 | 34.83   |  2.27
|                 |        | R | 17.59 | 22.59   | 10.50
|                 |        | G | 19.09 | 24.13   |  8.73
|                 |        | B | 19.69 | 24.69   |  8.25
|                 |        | A | 18.04 | 27.78   |  5.11
|                 |        |   |       |         |
|                 | dither | L | 23.83 | 38.54   |  1.19
|                 |        | R | 17.54 | 22.77   | 10.59
|                 |        | G | 19.04 | 24.30   |  8.83
|                 |        | B | 19.68 | 24.88   |  8.25
|                 |        | A | 16.91 | 31.74   |  2.54
|                 |        |   |       |         |
|                 | perc   | L | 24.99 | 34.88   |  2.26
|                 |        | R | 17.59 | 22.58   | 10.53
|                 |        | G | 19.09 | 24.12   |  8.73
|                 |        | B | 19.67 | 24.68   |  8.26
|                 |        | A | 18.04 | 27.78   |  5.11
|                 |        |   |       |         |
|                 | perc d | L | 24.97 | 34.88   |  2.25
|                 |        | R | 17.59 | 22.58   | 10.50
|                 |        | G | 19.09 | 24.13   |  8.71
|                 |        | B | 19.67 | 24.68   |  8.24
|                 |        | A | 18.04 | 27.78   |  5.11
|                 |        |   |       |         |
|                 |        |   |       |         |
| leaves.png      | fast   | L | 27.96 | 37.84   |  1.20
|                 |        | R | 17.88 | 23.55   |  6.85
|                 |        | G | 21.83 | 27.32   |  4.10
|                 |        | B | 23.75 | 29.28   |  3.18
|                 |        | A | 22.56 | 32.99   |  2.15
|                 |        |   |       |         |
|                 | normal | L | 27.98 | 37.91   |  1.19
|                 |        | R | 17.88 | 23.56   |  6.82
|                 |        | G | 21.83 | 27.34   |  4.06
|                 |        | B | 23.75 | 29.27   |  3.18
|                 |        | A | 22.56 | 32.99   |  2.15
|                 |        |   |       |         |
|                 | high   | L | 27.97 | 37.88   |  1.20
|                 |        | R | 17.88 | 23.56   |  6.84
|                 |        | G | 21.83 | 27.34   |  4.06
|                 |        | B | 23.75 | 29.28   |  3.19
|                 |        | A | 22.56 | 32.99   |  2.15
|                 |        |   |       |         |
|                 | dither | L | 27.07 | 40.50   |  0.80
|                 |        | R | 17.72 | 23.50   |  6.93
|                 |        | G | 21.69 | 27.28   |  4.13
|                 |        | B | 23.70 | 29.30   |  3.20
|                 |        | A | 21.75 | 35.14   |  1.44
|                 |        |   |       |         |
|                 | perc   | L | 27.99 | 37.82   |  1.19
|                 |        | R | 17.88 | 23.58   |  6.80
|                 |        | G | 21.82 | 27.33   |  4.13
|                 |        | B | 23.66 | 29.15   |  3.29
|                 |        | A | 22.56 | 32.99   |  2.15
|                 |        |   |       |         |
|                 | perc d | L | 27.97 | 37.88   |  1.17
|                 |        | R | 17.88 | 23.58   |  6.75
|                 |        | G | 21.81 | 27.33   |  4.13
|                 |        | B | 23.66 | 29.15   |  3.28
|                 |        | A | 22.56 | 32.99   |  2.15
|                 |        |   |       |         |
|                 |        |   |       |         |
| random color    | fast   | L | 57.28 | 59.95   |  0.28
|                 |        | R | 49.40 | 52.08   |  0.73
|                 |        | G | 54.19 | 56.88   |  0.41
|                 |        | B | 49.50 | 52.12   |  0.72
|                 |        |   |       |         |
|                 | normal | L | 57.28 | 59.95   |  0.28
|                 |        | R | 49.40 | 52.08   |  0.73
|                 |        | G | 54.19 | 56.88   |  0.41
|                 |        | B | 49.50 | 52.12   |  0.72
|                 |        |   |       |         |
|                 | high   | L | 57.47 | 60.18   |  0.28
|                 |        | R | 49.96 | 52.68   |  0.67
|                 |        | G | 53.96 | 56.68   |  0.42
|                 |        | B | 50.02 | 52.64   |  0.67
|                 |        |   |       |         |
|                 | dither | L | 52.65 | 61.09   |  0.23
|                 |        | R | 46.54 | 54.18   |  0.52
|                 |        | G | 50.89 | 56.78   |  0.40
|                 |        | B | 46.59 | 54.18   |  0.51
|                 |        |   |       |         |
|                 | perc   | L | 57.92 | 60.65   |  0.26
|                 |        | R | 49.22 | 51.88   |  0.72
|                 |        | G | 53.91 | 56.64   |  0.41
|                 |        | B | 49.29 | 51.91   |  0.72
|                 |        |   |       |         |
|                 | perc d | L | 53.05 | 63.12   |  0.18
|                 |        | R | 45.76 | 52.45   |  0.59
|                 |        | G | 51.06 | 57.28   |  0.36
|                 |        | B | 45.77 | 52.52   |  0.61
|                 |        |   |       |         |



## `BC4_UNORM`

- fast: EncodeOptions { dithering: None, error_metric: Uniform, quality: Fast }
- normal: EncodeOptions { dithering: None, error_metric: Uniform, quality: Normal }
- high: EncodeOptions { dithering: None, error_metric: Uniform, quality: High }
- dither: EncodeOptions { dithering: ColorAndAlpha, error_metric: Uniform, quality: High }

|                 |        |   | ↑PSNR | ↑PSNR B | ↓Region err
| --------------- | ------ | - | ----- | ------- | -----------
|                 |        |   |       |         |
| Summary         | fast   | L | 42.42 | 53.76   |  0.20
|                 | normal | L | 43.45 | 55.36   |  0.17
|                 | high   | L | 43.83 | 56.97   |  0.09
|                 | dither | L | 43.10 | 58.05   |  0.07
|                 |        |   |       |         |
| base.png        | fast   | L | 38.13 | 48.98   |  0.35
|                 | normal | L | 40.28 | 52.05   |  0.20
|                 | high   | L | 40.83 | 53.81   |  0.09
|                 | dither | L | 40.15 | 55.08   |  0.07
|                 |        |   |       |         |
| color-twirl.png | fast   | L | 56.08 | 65.13   |  0.08
|                 | normal | L | 56.08 | 65.13   |  0.08
|                 | high   | L | 56.95 | 68.35   |  0.05
|                 | dither | L | 55.81 | 71.33   |  0.02
|                 |        |   |       |         |
| clovers-r.png   | fast   | L | 39.45 | 51.72   |  0.34
|                 | normal | L | 39.47 | 51.76   |  0.34
|                 | high   | L | 39.69 | 53.07   |  0.16
|                 | dither | L | 38.93 | 53.92   |  0.16
|                 |        |   |       |         |
| stone-h.png     | fast   | L | 47.80 | 58.75   |  0.20
|                 | normal | L | 47.80 | 58.75   |  0.20
|                 | high   | L | 48.31 | 60.96   |  0.12
|                 | dither | L | 47.48 | 62.29   |  0.08
|                 |        |   |       |         |
| random color    | fast   | L | 77.56 | 80.27   |  0.03
|                 | normal | L | 77.56 | 80.27   |  0.03
|                 | high   | L | 77.56 | 80.27   |  0.03
|                 | dither | L | 73.26 | 91.53   |  0.00



## `BC4_UNORM`

- ref: EncodeOptions { dithering: None, error_metric: Uniform, quality: Unreasonable }

|          |     |   | ↑PSNR | ↑PSNR B | ↓Region err
| -------- | --- | - | ----- | ------- | -----------
|          |     |   |       |         |
| base.png | ref | L | 41.32 | 53.96   |  0.09



